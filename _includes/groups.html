<!-- list -->
<div class="row row-cols-1 row-cols-md-2 row-cols-xxl-3 g-4 my-3">
{% assign groups_by_name = site.groups | sort: "name" %}
{% for group in groups_by_name %}
{%- capture gradient_class -%}
  {%- if group.id == "gdg" -%}community-gdg
  {%- elsif group.id == "mtg" -%}community-mtg
  {%- elsif group.id == "agile" -%}community-agile
  {%- elsif group.id == "tgd" or group.name == "Toulouse Game Dev" -%}community-tgd
  {%- elsif group.id == "ruby" -%}community-ruby
  {%- elsif group.id == "jug" -%}community-jug
  {%- elsif group.id == "python" -%}community-python
  {%- elsif group.id == "js" -%}community-js
  {%- else -%}community-default
  {%- endif -%}
{%- endcapture -%}
<div class="col">
  {%- assign group_img_url = "" -%}
  {%- if group.img -%}
    {%- if group.img contains '://' -%}
      {%- assign group_img_url = group.img -%}
    {%- else -%}
      {%- assign group_img_url = site.baseurl | append: group.img -%}
    {%- endif -%}
  {%- endif -%}
  <div class="card community-card{% if group_img_url == "" %} {{ gradient_class | strip }}{% endif %}{% if group_img_url != "" %} community-card-with-img{% endif %}"{% if group_img_url != "" %} style="background-image: url('{{ group_img_url }}');"{% endif %}>
    <div class="community-card-body">
      <h5 class="community-card-title">{{ group.name }}</h5>
      {% if group.content %}
      <p class="community-card-desc">{{ group.content | strip_html | truncatewords: 15 }}</p>
      {% elsif group.description %}
      <p class="community-card-desc">{{ group.description | strip_html | truncatewords: 15 }}</p>
      {% endif %}
      <div class="community-card-links">
        <a href="{{ group.url }}" title="Site Web" target="_blank"><i class="bi bi-globe"></i></a>
        {% if group.social %}
          {% for social in group.social %}
            {% if social.name == "x" %}
            <a href="{{ social.url }}" title="X / Twitter" target="_blank"><i class="bi bi-twitter-x"></i></a>
            {% elsif social.name == "linkedin" %}
            <a href="{{ social.url }}" title="LinkedIn" target="_blank"><i class="bi bi-linkedin"></i></a>
            {% elsif social.name == "github" %}
            <a href="{{ social.url }}" title="GitHub" target="_blank"><i class="bi bi-github"></i></a>
            {% elsif social.name == "mastodon" %}
            <a href="{{ social.url }}" title="Mastodon" target="_blank"><i class="bi bi-mastodon"></i></a>
            {% endif %}
          {% endfor %}
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endfor %}
</div>
